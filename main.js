(()=>{var e={653:(e,t,o)=>{const r=o(585);e.exports=()=>{const e={hasBeenHit:!1,isShip:!1,offLimits:!1},t=()=>{const t=Array(10).fill().map((()=>Array(10).fill()));for(let o=0;o<10;o++)for(let r=0;r<10;r++)t[o][r]={...e,column:o,row:r};return t};let o=t();const i=[r(5,"Carrier"),r(4,"Battleship"),r(3,"Destroyer"),r(3,"Submarine"),r(2,"Patrol Boat")],n=(e,t)=>o?.[e]?.[t],a=(t,r,i=(()=>Object.assign(e,{offLimits:!0}))())=>{if(void 0===o?.[t]?.[r])return!0;const n=o[t][r];return o[t][r]={...n,...i},!0},l=(e,t)=>{a(e-1,t-1),a(e,t-1)},c=(e,t,o,r)=>{if("vertical"===o)for(let o=0;o<r;o++){const r=n(e,t+o);if(r&&!0===r.isShip&&!0===r.offLimits)return!1}if("horizontal"===o)for(let o=0;o<r;o++){const r=n(e+o,t);if(r&&!0===r.isShip&&!0===r.offLimits)return!1}return!1},s=(e,t,r,i)=>{const s=i.getLength();if(c(n(e,t)))return!1;if("vertical"===r){if(((e,t)=>e>=0&&e+t-1<o.length)(t,s)){for(let o=0;o<s;o+=1)a(e,t+o,{...i,position:o}),a(e+1,t+o),a(e-1,t+o);return((e,t,o)=>{l(e,t),a(e,t+o),a(e+1,t+o),a(e-1,t+o),a(e+1,t-1)})(e,t,s),!0}}else if("horizontal"===r&&((e,t)=>e>=0&&e+t-1<o.length)(e,s)){for(let o=0;o<s;o+=1)a(e+o,t,{...i,position:o}),a(e+o,t+1),a(e+o,t-1);return((e,t,o)=>{l(e,t),a(e+o,t),a(e-1,t+1),a(e+o,t+1),a(e+o,t-1)})(e,t,s),!0}return!1},h=()=>{const e=0===Math.floor(2*Math.random())?"vertical":"horizontal",t=Math.floor(100*Math.random()),r=(()=>{const e=[...o.flat()];return e.forEach((e=>{!0===e.hasBeenHit?e.availability=!1:e.availability=!0})),e})()[t];return!1===r.availability?h():{elementColumn:r.column,elementRow:r.row,randomDirection:e}};return{clearBoard:()=>{o=t()},checkIfLocationIsAShipOrOffLimits:c,checkIfOffLimitZoneWasCorrectlyImplemented:e=>o.flat().filter((e=>!0===e.offLimits)).length===e+2,getLocation:n,receiveAttack:(e,t)=>{o[e][t].hasBeenHit=!0},checkIfAllShipsHaveSunk:()=>{let e=!0;for(let t=0;t<10;t++)for(let o=0;o<10;o++){const r=n(t,o);if(!1!==r.isShip&&r.isShip&&!1===r.isSunk()){e=!1;break}}return e},placeShip:s,randomlyPlaceShips:()=>{const e=[];for(let t=0;t<i.length;t+=1){const o=i[t],{randomColumn:r,randomRow:n,randomDirection:a}=h(o.getLength());s(r,n,a,o)?e.push({randomColumn:r,randomRow:n,randomDirection:a}):t-=1}return e},makeRandomCoordinates:h}}},61:e=>{e.exports=(e="player")=>({getName:()=>e,attack:(e,t,{getLocation:o,receiveAttack:r})=>{const i=o(e,t);return!1===i.hasBeenHit||i.isShip&&!1===i.getStatus().includes("unhit")?(r(e,t),i.hit?(i.hit(i.position),"You hit a ship!"):"It's a hit!"):"You have already hit this spot!"}})},585:e=>{e.exports=(e,t="ship")=>{const o=Array(e).fill("unhit");return{getName:()=>t,getLength:()=>o.length,isSunk:()=>o.every((e=>"hit"===e)),hit:t=>{t<e&&(o[t]="hit")},getStatus:()=>o,hasBeenHit:!1,offLimits:!0,isShip:!0}}}},t={};function o(r){var i=t[r];if(void 0!==i)return i.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=o(653),t=o.n(e),r=o(585),i=o.n(r);const n=(e,t,o,r)=>{const i=document.querySelector(`.${e}-board > .cell[column='${t}'][row='${o}']`);r.getLocation(t,o).isShip?i.classList.add("hit"):i.classList.add("miss")},a=(e,t,o,r)=>r.attack(e,t,o),l=(e,t,o)=>{const r=((e,t,o)=>{const r=o.getLocation(e+1,t),i=o.getLocation(e-1,t),n=o.getLocation(e,t+1),a=o.getLocation(e,t-1),l=[];return r&&!r.hasBeenHit&&l.push(r),i&&!i.hasBeenHit&&l.push(i),n&&!n.hasBeenHit&&l.push(n),a&&!a.hasBeenHit&&l.push(a),l})(e,t,o),i=Math.floor(Math.random()*r.length);return r[i]?r[i]:l(e,t,o)},c=(e,t,o)=>{const r={location(){return o.getLocation(this.column,this.row)}},i=Object.assign(Object.create(r),{column:e,row:t-1}),n=Object.assign(Object.create(r),{column:e,row:t+1}),a=Object.assign(Object.create(r),{column:e+1,row:t}),l=Object.assign(Object.create(r),{column:e-1,row:t}),c=[];return c.push(i),c.push(n),c.push(a),c.push(l),c},s=(e,t,o,r,i)=>{const h=e.getLocation(o,r);if("You hit a ship!"===a(o,r,e,t)){const n=l(o,r,e),a=n.column,u=c(o,r,e).filter((e=>void 0!==e.column&&void 0!==e.row)),p=n.row;if(h.isShip&&!1===h.isSunk())switch(Math.floor(Math.random()*u.length)){case 0:s(e,t,u[0].column,u[0].row,h);break;case 1:s(e,t,u[1].column,u[1].row,h);break;case 2:s(e,t,u[2].column,u[2].row,h);break;case 3:s(e,t,u[3].column,u[3].row,h)}setTimeout((()=>{s(e,t,a,p,i)}),700)}else if(h&&!1===h.isShip&&i&&!0===i.isShip){let n,a;i.getLength(),i.column>o&&(a=i.column-(i.column-o)),i.column<o&&(a=i.column+(o-i.column)),i.row>r&&(n=i.row-(i.row-r)),i.row<r&&(n=i.row+(r-i.row)),setTimeout((()=>{!1===i.isSunk()&&s(e,t,a,n,i)}),700)}setTimeout((()=>{n("player",o,r,e)}),700)},h=({getLocation:e})=>{const t=document.querySelector("div.player-board");for(let o=0;o<10;o+=1)for(let r=0;r<10;r+=1){const i=t.querySelector(`.cell:nth-child(${10*r+o+1})`);i.setAttribute("column",o),i.setAttribute("row",r);const n=e(o,r);n.isShip&&(i.classList.add("ship"),i.setAttribute("ship-name",n.getName()))}},u=e=>{switch(e.clearBoard(),document.querySelectorAll(".player-board > .cell").forEach((e=>{e.classList.remove("ship"),e.classList.remove("hit"),e.classList.remove("miss")})),Math.floor(4*Math.random())){case 0:e.placeShip(9,1,"vertical",i()(5)),e.placeShip(0,3,"horizontal",i()(3)),e.placeShip(3,6,"horizontal",i()(2)),e.placeShip(6,5,"horizontal",i()(3)),e.placeShip(3,9,"horizontal",i()(4));break;case 1:e.placeShip(0,2,"horizontal",i()(5)),e.placeShip(4,5,"horizontal",i()(3)),e.placeShip(8,7,"horizontal",i()(2)),e.placeShip(5,9,"horizontal",i()(3)),e.placeShip(6,3,"horizontal",i()(4));break;case 2:e.placeShip(5,1,"horizontal",i()(5)),e.placeShip(3,3,"vertical",i()(3)),e.placeShip(0,0,"vertical",i()(2)),e.placeShip(6,5,"horizontal",i()(3)),e.placeShip(5,9,"horizontal",i()(4));break;default:e.placeShip(0,0,"horizontal",i()(5)),e.placeShip(3,4,"horizontal",i()(3)),e.placeShip(6,7,"horizontal",i()(2)),e.placeShip(9,1,"vertical",i()(3)),e.placeShip(5,9,"horizontal",i()(4))}h(e)};var p=o(61),m=o.n(p);const d=t()(),f=t()(),S=m()(),y=m()();document.querySelector("button.randomize").addEventListener("click",(()=>{u(d)})),u(d),f.placeShip(0,0,"horizontal",i()(5)),f.placeShip(3,4,"horizontal",i()(3)),f.placeShip(6,7,"horizontal",i()(2)),f.placeShip(9,1,"vertical",i()(3)),f.placeShip(5,9,"horizontal",i()(4));const b=(()=>{const e={};return{publish:function(t,o){Array.isArray(e[t])&&e[t].forEach((e=>{e(o)}))},subscribe:function t(o,r){Array.isArray(t[o])||(e[o]=[]),e[o].push(r);const i=e[o].length-1;return{unsubscribe(){e[o].splice(i,1)}}}}})();((e,t,o,r,i)=>{const n=document.querySelector("div.enemy-board");for(let a=0;a<10;a+=1)for(let l=0;l<10;l+=1){const c=n.querySelector(`.cell:nth-child(${10*l+a+1})`);c.setAttribute("column",a),c.setAttribute("row",l),c.addEventListener("click",(()=>{i.publish("click",{cell:c,column:a,row:l,playerBoard:e,enemyBoard:t,player:o,enemy:r})}),{once:!0})}})(d,f,S,y,b),b.subscribe("click",(({cell:e,column:t,row:o,playerBoard:r,enemyBoard:i,player:l,enemy:c})=>{((e,t,o,r)=>{a(e,t,o,r),n("enemy",e,t,o)})(t,o,i,l);const{elementColumn:h,elementRow:u}=r.makeRandomCoordinates();s(r,c,h,u),((e,t)=>{if(e.checkIfAllShipsHaveSunk()){const e=document.querySelector(".modal"),t=document.querySelector(".modal-content > p"),o=document.querySelector(".modal-content > button");e.style.display="block",o.addEventListener("click",(()=>{location.reload()})),t.textContent="You lose!"}if(t.checkIfAllShipsHaveSunk()){const e=document.querySelector(".modal"),t=document.querySelector(".modal-content > p"),o=document.querySelector(".modal-content > button");e.style.display="block",t.textContent="You win!",o.addEventListener("click",(()=>{location.reload()}))}})(r,i)})),h(d)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU1DLFFBQVUsUUFDdEJGLEVBQWdCbkIsaUJBQWlCLFNBQVMsS0FDdENsSCxTQUFTd0ksWUFHYkosRUFBWUssWUFBYyxZQUU5QixHQUFJakUsRUFBV3hDLDBCQUEyQixDQUN0QyxNQUFNbUcsRUFBUXpELFNBQVNDLGNBQWMsVUFDL0J5RCxFQUFjMUQsU0FBU0MsY0FBYyxzQkFDckMwRCxFQUFrQjNELFNBQVNDLGNBQzdCLDJCQUdKd0QsRUFBTUcsTUFBTUMsUUFBVSxRQUN0QkgsRUFBWUssWUFBYyxXQUMxQkosRUFBZ0JuQixpQkFBaUIsU0FBUyxLQUN0Q2xILFNBQVN3SSxjQStHakJFLENBQWdCMUQsRUFBYVIsTUM5VWpDbUMsRUFBa0IzQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9wLWJhdHRsZXNoaXAvLi9zcmMvZ2FtZWJvYXJkL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly90b3AtYmF0dGxlc2hpcC8uL3NyYy9wbGF5ZXIvcGxheWVyLmpzIiwid2VicGFjazovL3RvcC1iYXR0bGVzaGlwLy4vc3JjL3NoaXAvc2hpcC5qcyIsIndlYnBhY2s6Ly90b3AtYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90b3AtYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly90b3AtYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdG9wLWJhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90b3AtYmF0dGxlc2hpcC8uL3NyYy9kb20uanMiLCJ3ZWJwYWNrOi8vdG9wLWJhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1tdWx0aS1hc3NpZ24gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuY29uc3QgY3JlYXRlU2hpcCA9IHJlcXVpcmUoJy4uL3NoaXAvc2hpcCcpXG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5jb25zdCBjcmVhdGVHYW1lQm9hcmQgPSAoKSA9PiB7XG4gICAgY29uc3QgZW1wdHlDZWxsID0geyBoYXNCZWVuSGl0OiBmYWxzZSwgaXNTaGlwOiBmYWxzZSwgb2ZmTGltaXRzOiBmYWxzZSB9XG4gICAgXG4gICAgY29uc3QgaW5pdGlhbGl6ZUJvYXJkID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBnYW1lQm9hcmQgPSBBcnJheSgxMCkuZmlsbCgpLm1hcCgoKSA9PiBBcnJheSgxMCkuZmlsbCgpKVxuICAgICAgICBmb3IobGV0IGNvbHVtbj0gMDsgY29sdW1uIDwgMTA7IGNvbHVtbisrKXtcbiAgICAgICAgICAgIGZvcihsZXQgcm93PSAwOyByb3cgPCAxMDsgcm93Kyspe1xuICAgICAgICAgICAgICAgIGdhbWVCb2FyZFtjb2x1bW5dW3Jvd10gPSB7Li4uZW1wdHlDZWxsLCBjb2x1bW4sIHJvd31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2FtZUJvYXJkXG4gICAgXG4gICAgfVxuXG4gICAgbGV0IGdhbWVCb2FyZCA9IGluaXRpYWxpemVCb2FyZCgpXG5cbiAgICBjb25zdCBzaGlwcyA9IFtcbiAgICAgICAgY3JlYXRlU2hpcCg1LCAnQ2FycmllcicpLFxuICAgICAgICBjcmVhdGVTaGlwKDQsICdCYXR0bGVzaGlwJyksXG4gICAgICAgIGNyZWF0ZVNoaXAoMywgJ0Rlc3Ryb3llcicpLFxuICAgICAgICBjcmVhdGVTaGlwKDMsICdTdWJtYXJpbmUnKSxcbiAgICAgICAgY3JlYXRlU2hpcCgyLCAnUGF0cm9sIEJvYXQnKSxcbiAgICBdXG5cblxuICAgIGNvbnN0IGNyZWF0ZU9mZkxpbWl0TG9jYXRpb24gPSAoKSA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKGVtcHR5Q2VsbCwgeyBvZmZMaW1pdHM6IHRydWUgfSlcblxuICAgIGNvbnN0IGdldExvY2F0aW9uID0gKGNvbHVtbiwgcm93KSA9PiBnYW1lQm9hcmQ/Lltjb2x1bW5dPy5bcm93XVxuXG4gICAgY29uc3Qgc2V0TG9jYXRpb24gPSAoY29sdW1uLCByb3csIHNoaXAgPSBjcmVhdGVPZmZMaW1pdExvY2F0aW9uKCkpID0+IHtcbiAgICAgICAgaWYgKGdhbWVCb2FyZD8uW2NvbHVtbl0/Lltyb3ddID09PSB1bmRlZmluZWQpIHJldHVybiB0cnVlXG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gZ2FtZUJvYXJkW2NvbHVtbl1bcm93XVxuXG4gICAgICAgIGdhbWVCb2FyZFtjb2x1bW5dW3Jvd10gPSB7Li4ubG9jYXRpb24sIC4uLnNoaXB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIGNvbnN0IGNoZWNrSWZBbGxTaGlwc0hhdmVTdW5rID0gKCkgPT4ge1xuXG4gICAgICAgIGxldCBoYXZlQWxsU2hpcHNTdW5rID10cnVlICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKykge1xuICAgICAgICBjb25zdCBsb2NhdGlvbiA9IGdldExvY2F0aW9uKGksIGopXG4gICAgICAgIGlmKGxvY2F0aW9uLmlzU2hpcCA9PT0gZmFsc2UpIGNvbnRpbnVlXG4gICAgICAgIGlmKGxvY2F0aW9uLmlzU2hpcCAmJiBsb2NhdGlvbi5pc1N1bmsoKSA9PT0gZmFsc2Upe1xuICAgICAgICAgICBoYXZlQWxsU2hpcHNTdW5rID0gZmFsc2UgXG4gICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXZlQWxsU2hpcHNTdW5rIFxuICAgIH1cblxuICAgIGNvbnN0IGFkZE9mZkxpbWl0QXJlYUZvclNoaXBzID0gKGNvbHVtbiwgcm93KSA9PiB7XG4gICAgICAgIC8vIHRvcC1sZWZ0XG4gICAgICAgIHNldExvY2F0aW9uKGNvbHVtbiAtIDEsIHJvdyAtIDEpXG4gICAgICAgIC8vIHRvcFxuICAgICAgICBzZXRMb2NhdGlvbihjb2x1bW4sIHJvdyAtIDEpXG4gICAgfVxuXG4gICAgY29uc3QgYWRkT2ZmTGltaXRBcmVhRm9ySG9yaXpvbnRhbGx5UG9zaXRpb25lZFNoaXAgPSAoXG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgcm93LFxuICAgICAgICBzaGlwTGVuZ3RoXG4gICAgKSA9PiB7XG4gICAgICAgIC8vIHBvc2l0aW9ucyByZWxhdGl2ZSB0byB0aGUgc2hpcCBpdHNlbGYoaWUuIGEgaG9yaXpvbnRhbCBzaGlwJ3MgYm90dG9tIGlzIHRvIHRoZSByaWdodClcblxuICAgICAgICBhZGRPZmZMaW1pdEFyZWFGb3JTaGlwcyhjb2x1bW4sIHJvdylcbiAgICAgICAgLy8gYm90dG9tXG4gICAgICAgIHNldExvY2F0aW9uKGNvbHVtbiArIHNoaXBMZW5ndGgsIHJvdylcbiAgICAgICAgLy8gYm90dG9tLWxlZnRcbiAgICAgICAgc2V0TG9jYXRpb24oY29sdW1uIC0gMSwgcm93ICsgMSlcbiAgICAgICAgLy8gYm90dG9tLXJpZ2h0XG4gICAgICAgIHNldExvY2F0aW9uKGNvbHVtbiArIHNoaXBMZW5ndGgsIHJvdyArIDEpXG4gICAgICAgIC8vIHRvcC1yaWdodFxuICAgICAgICBzZXRMb2NhdGlvbihjb2x1bW4gKyBzaGlwTGVuZ3RoLCByb3cgLSAxKVxuICAgIH1cblxuICAgIGNvbnN0IGFkZE9mZkxpbWl0QXJlYUZvclZlcnRpY2FsbHlQb3NpdGlvbmVkU2hpcCA9IChcbiAgICAgICAgY29sdW1uLFxuICAgICAgICByb3csXG4gICAgICAgIHNoaXBMZW5ndGhcbiAgICApID0+IHtcbiAgICAgICAgLy8gcG9zaXRpb25zIHJlbGF0aXZlIHRvIGhvdyB0aGUgdXNlciBzZWVzIGl0KGllLiBhIHZlcnRpY2FsIHNoaXAncyBib3R0b20gaXMgdG8gdGhlIGJvdHRvbSlcblxuICAgICAgICBhZGRPZmZMaW1pdEFyZWFGb3JTaGlwcyhjb2x1bW4sIHJvdylcbiAgICAgICAgLy8gYm90dG9tXG4gICAgICAgIHNldExvY2F0aW9uKGNvbHVtbiwgcm93ICsgc2hpcExlbmd0aClcbiAgICAgICAgLy8gYm90dG9tLXJpZ2h0XG4gICAgICAgIHNldExvY2F0aW9uKGNvbHVtbiArIDEsIHJvdyArIHNoaXBMZW5ndGgpXG4gICAgICAgIC8vIGJvdHRvbS1sZWZ0XG4gICAgICAgIHNldExvY2F0aW9uKGNvbHVtbiAtIDEsIHJvdyArIHNoaXBMZW5ndGgpXG4gICAgICAgIC8vIHRvcC1yaWdodFxuICAgICAgICBzZXRMb2NhdGlvbihjb2x1bW4gKyAxLCByb3cgLSAxKVxuICAgIH1cblxuICAgIGNvbnN0IGNoZWNrSWZDb2x1bW5Db29yZGluYXRlSXNWYWxpZCA9IChjb2x1bW4sIHNoaXBMZW5ndGgpID0+XG4gICAgICAgIGNvbHVtbiA+PSAwICYmIGNvbHVtbiArIHNoaXBMZW5ndGggLSAxIDwgZ2FtZUJvYXJkLmxlbmd0aFxuXG4gICAgY29uc3QgY2hlY2tJZlJvd0Nvb3JkaW5hdGVJc1ZhbGlkID0gKHJvdywgc2hpcExlbmd0aCkgPT5cbiAgICAgICAgcm93ID49IDAgJiYgcm93ICsgc2hpcExlbmd0aCAtIDEgPCBnYW1lQm9hcmQubGVuZ3RoXG5cblxuICAgIGNvbnN0IGNoZWNrSWZMb2NhdGlvbklzQVNoaXBPck9mZkxpbWl0cyA9IChcbiAgICAgICAgY29sdW1uLFxuICAgICAgICByb3csXG4gICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgc2hpcExlbmd0aFxuICAgICkgPT4ge1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gZ2V0TG9jYXRpb24oY29sdW1uLCByb3cgKyBpKVxuICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5pc1NoaXAgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLm9mZkxpbWl0cyA9PT0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gZ2V0TG9jYXRpb24oY29sdW1uICsgaSwgcm93KVxuICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5pc1NoaXAgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLm9mZkxpbWl0cyA9PT0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgcGxhY2VTaGlwID0gKGNvbHVtbiwgcm93LCBkaXJlY3Rpb24sIHNoaXApID0+IHtcbiAgICAgICAgY29uc3Qgc2hpcExlbmd0aCA9IHNoaXAuZ2V0TGVuZ3RoKClcbiAgICAgICAgaWYgKGNoZWNrSWZMb2NhdGlvbklzQVNoaXBPck9mZkxpbWl0cyhnZXRMb2NhdGlvbihjb2x1bW4sIHJvdywgZGlyZWN0aW9uLCBzaGlwTGVuZ3RoKSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgaWYgKGNoZWNrSWZSb3dDb29yZGluYXRlSXNWYWxpZChyb3csIHNoaXBMZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwTGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0TG9jYXRpb24oY29sdW1uLCByb3cgKyBpLCB7Li4uc2hpcCwgcG9zaXRpb246IGl9KVxuICAgICAgICAgICAgICAgICAgICBzZXRMb2NhdGlvbihjb2x1bW4gKyAxLCByb3cgKyBpKVxuICAgICAgICAgICAgICAgICAgICBzZXRMb2NhdGlvbihjb2x1bW4gLSAxLCByb3cgKyBpKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRPZmZMaW1pdEFyZWFGb3JWZXJ0aWNhbGx5UG9zaXRpb25lZFNoaXAoXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgICAgICBzaGlwTGVuZ3RoXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICAgIGlmIChjaGVja0lmQ29sdW1uQ29vcmRpbmF0ZUlzVmFsaWQoY29sdW1uLCBzaGlwTGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldExvY2F0aW9uKGNvbHVtbiArIGkgLCByb3csIHsuLi5zaGlwLCBwb3NpdGlvbjogaX0pXG4gICAgICAgICAgICAgICAgICAgIC8vc2V0TG9jYXRpb24oY29sdW1uICsgaSwgcm93LCBzaGlwKVxuICAgICAgICAgICAgICAgICAgICBzZXRMb2NhdGlvbihjb2x1bW4gKyBpLCByb3cgKyAxKVxuICAgICAgICAgICAgICAgICAgICBzZXRMb2NhdGlvbihjb2x1bW4gKyBpLCByb3cgLSAxKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRPZmZMaW1pdEFyZWFGb3JIb3Jpem9udGFsbHlQb3NpdGlvbmVkU2hpcChcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLFxuICAgICAgICAgICAgICAgICAgICByb3csXG4gICAgICAgICAgICAgICAgICAgIHNoaXBMZW5ndGhcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZVNwYWNlcyA9ICgpID0+e1xuXG4gICAgICAgIGNvbnN0IGZsYXR0ZW5lZEdhbWVCb2FyZCA9IFsuLi5nYW1lQm9hcmQuZmxhdCgpXVxuXG4gICAgICAgICAgICBmbGF0dGVuZWRHYW1lQm9hcmQuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQuaGFzQmVlbkhpdCA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYXZhaWxhYmlsaXR5ID0gZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hdmFpbGFiaWxpdHkgPXRydWUgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHJldHVybiBmbGF0dGVuZWRHYW1lQm9hcmRcblxuICAgICAgICB9XG4gICAgY29uc3QgbWFrZVJhbmRvbUNvb3JkaW5hdGVzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCByYW5kb21EaXJlY3Rpb24gPVxuICAgICAgICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMikgPT09IDAgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnXG4gICAgICAgIGNvbnN0IHJhbmRvbUxvY2F0aW9uID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKVxuICAgICAgICBjb25zdCBmbGF0dGVuZWRHYW1lQm9hcmQgPSBhdmFpbGFibGVTcGFjZXMoKVxuXG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gZmxhdHRlbmVkR2FtZUJvYXJkW3JhbmRvbUxvY2F0aW9uXVxuXG4gICAgICAgIGlmKGxvY2F0aW9uLmF2YWlsYWJpbGl0eSA9PT0gZmFsc2Upe1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VSYW5kb21Db29yZGluYXRlcygpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlbGVtZW50Q29sdW1uID0gbG9jYXRpb24uY29sdW1uXG4gICAgICAgIGNvbnN0IGVsZW1lbnRSb3cgPSBsb2NhdGlvbi5yb3dcblxuXG4gICAgICAgIHJldHVybiB7IGVsZW1lbnRDb2x1bW4sIGVsZW1lbnRSb3csIHJhbmRvbURpcmVjdGlvbiB9XG4gICAgfVxuXG4gICAgY29uc3QgcmFuZG9tbHlQbGFjZVNoaXBzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzaGlwRGV0YWlscyA9IFtdXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoaXAgPSBzaGlwc1tpXVxuICAgICAgICAgICAgY29uc3QgeyByYW5kb21Db2x1bW4sIHJhbmRvbVJvdywgcmFuZG9tRGlyZWN0aW9uIH0gPVxuICAgICAgICAgICAgICAgIG1ha2VSYW5kb21Db29yZGluYXRlcyhzaGlwLmdldExlbmd0aCgpKVxuICAgICAgICAgICAgaWYgKHBsYWNlU2hpcChyYW5kb21Db2x1bW4sIHJhbmRvbVJvdywgcmFuZG9tRGlyZWN0aW9uLCBzaGlwKSkge1xuICAgICAgICAgICAgICAgIHNoaXBEZXRhaWxzLnB1c2goeyByYW5kb21Db2x1bW4sIHJhbmRvbVJvdywgcmFuZG9tRGlyZWN0aW9uIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGkgLT0gMVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaGlwRGV0YWlsc1xuICAgIH1cblxuICAgIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSAoY29sdW1uLCByb3cpID0+IHtcbiAgICAgICAgZ2FtZUJvYXJkW2NvbHVtbl1bcm93XS5oYXNCZWVuSGl0ID0gdHJ1ZVxuICAgIH1cblxuICAgIGNvbnN0IGNoZWNrSWZPZmZMaW1pdFpvbmVXYXNDb3JyZWN0bHlJbXBsZW1lbnRlZCA9IChzaGlwTGVuZ3RoKSA9PlxuICAgICAgICBnYW1lQm9hcmQuZmxhdCgpLmZpbHRlcigoZWxlbWVudCkgPT4gZWxlbWVudC5vZmZMaW1pdHMgPT09IHRydWUpXG4gICAgICAgICAgICAubGVuZ3RoID09PVxuICAgICAgICBzaGlwTGVuZ3RoICsgMlxuICAgIC8vIGFkZGluZyBzaGlwTGVuZ3RoIHBsdXMgdHdvIGJlY2F1c2UgZm9yIGV2ZXJ5IGluY3JlYXNlIGluIHRoZSBzaXplIG9mIHNoaXAsIHRoZSB6b25lcyBjb3ZlcmVkIGluY3JlYXNlIGJ5IDIgdW5pdHNcblxuICAgIGNvbnN0IGNsZWFyQm9hcmQgID0gKCkgPT4ge1xuICAgICAgICBnYW1lQm9hcmQgPSBpbml0aWFsaXplQm9hcmQoKVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGNsZWFyQm9hcmQsXG4gICAgICAgIGNoZWNrSWZMb2NhdGlvbklzQVNoaXBPck9mZkxpbWl0cyxcbiAgICAgICAgY2hlY2tJZk9mZkxpbWl0Wm9uZVdhc0NvcnJlY3RseUltcGxlbWVudGVkLFxuICAgICAgICBnZXRMb2NhdGlvbixcbiAgICAgICAgcmVjZWl2ZUF0dGFjayxcbiAgICAgICAgY2hlY2tJZkFsbFNoaXBzSGF2ZVN1bmssXG4gICAgICAgIHBsYWNlU2hpcCxcbiAgICAgICAgcmFuZG9tbHlQbGFjZVNoaXBzLFxuICAgICAgICBtYWtlUmFuZG9tQ29vcmRpbmF0ZXMsXG4gICAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVHYW1lQm9hcmQiLCJjb25zdCBjcmVhdGVQbGF5ZXIgPSAobmFtZSA9ICdwbGF5ZXInKSA9PiB7XG4gICAgY29uc3QgZ2V0TmFtZSA9ICgpID0+IG5hbWVcblxuICAgIGNvbnN0IGF0dGFjayA9IChjb2x1bW4sIHJvdywgeyBnZXRMb2NhdGlvbiwgcmVjZWl2ZUF0dGFjayB9KSA9PiB7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gZ2V0TG9jYXRpb24oY29sdW1uLCByb3cpXG4gICAgICAgIGlmIChsb2NhdGlvbi5oYXNCZWVuSGl0ID09PSBmYWxzZSB8fCAobG9jYXRpb24uaXNTaGlwICYmIGxvY2F0aW9uLmdldFN0YXR1cygpLmluY2x1ZGVzKCd1bmhpdCcpID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJlY2VpdmVBdHRhY2soY29sdW1uLCByb3cpXG4gICAgICAgICAgICBpZihsb2NhdGlvbi5oaXQpe1xuXG4gICAgICAgICAgICAgICAgbG9jYXRpb24uaGl0KGxvY2F0aW9uLnBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIHJldHVybiBcIllvdSBoaXQgYSBzaGlwIVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gXCJJdCdzIGEgaGl0IVwiXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJ1lvdSBoYXZlIGFscmVhZHkgaGl0IHRoaXMgc3BvdCEnXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0TmFtZSxcbiAgICAgICAgYXR0YWNrLFxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVQbGF5ZXJcbiIsImNvbnN0IGNyZWF0ZVNoaXAgPSAobGVuZ3RoLCBuYW1lID0gJ3NoaXAnKSA9PiB7XG5cbiAgICBjb25zdCBzdGF0dXMgPSBBcnJheShsZW5ndGgpLmZpbGwoJ3VuaGl0JylcblxuICAgIGNvbnN0IGdldExlbmd0aCA9ICgpID0+IHN0YXR1cy5sZW5ndGhcblxuICAgIGNvbnN0IGdldFN0YXR1cyA9ICgpID0+IHN0YXR1c1xuXG4gICAgY29uc3QgaGl0ID0gKHBvc2l0aW9uKSA9PiB7XG4gICAgICAgIGlmIChwb3NpdGlvbiA8IGxlbmd0aCkge1xuICAgICAgICAgICAgc3RhdHVzW3Bvc2l0aW9uXSA9ICdoaXQnXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBnZXROYW1lID0gKCkgPT4gIG5hbWVcblxuICAgIGNvbnN0IGlzU3VuayA9ICgpID0+IHN0YXR1cy5ldmVyeSgocG9zaXRpb24pID0+IHBvc2l0aW9uID09PSAnaGl0JylcblxuICAgIHJldHVybiB7XG4gICAgICAgIGdldE5hbWUsXG4gICAgICAgIGdldExlbmd0aCxcbiAgICAgICAgaXNTdW5rLFxuICAgICAgICBoaXQsXG4gICAgICAgIGdldFN0YXR1cyxcbiAgICAgICAgaGFzQmVlbkhpdDogZmFsc2UsXG4gICAgICAgIG9mZkxpbWl0czogdHJ1ZSxcbiAgICAgICAgaXNTaGlwOiB0cnVlLFxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVTaGlwXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IGNyZWF0ZUdhbWVCb2FyZCBmcm9tIFwiLi9nYW1lYm9hcmQvZ2FtZWJvYXJkXCJcbmltcG9ydCBjcmVhdGVTaGlwIGZyb20gXCIuL3NoaXAvc2hpcFwiXG5cbmNvbnN0IHJlbmRlckF0dGFja3MgPSAocGxheWVyLCBjb2x1bW4sIHJvdywgZW5lbXlCb2FyZCkgPT4ge1xuICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBgLiR7cGxheWVyfS1ib2FyZCA+IC5jZWxsW2NvbHVtbj0nJHtjb2x1bW59J11bcm93PScke3Jvd30nXWBcbiAgICApXG5cbiAgICBjb25zdCBsb2NhdGlvbiA9IGVuZW15Qm9hcmQuZ2V0TG9jYXRpb24oY29sdW1uLCByb3cpXG4gICAgaWYgKGxvY2F0aW9uLmlzU2hpcCkge1xuICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoJ2hpdCcpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKCdtaXNzJylcbiAgICB9XG59XG5cbmNvbnN0IGhhbmRsZUF0dGFjayA9IChjb2x1bW4sIHJvdywgZW5lbXlCb2FyZCwgcGxheWVyKSA9PlxuICAgIHBsYXllci5hdHRhY2soY29sdW1uLCByb3csIGVuZW15Qm9hcmQpXG5cbmNvbnN0IGF0dGFja0VuZW15Q2VsbCA9IChjb2x1bW4sIHJvdywgZW5lbXlCb2FyZCwgcGxheWVyKSA9PiB7XG4gICAgaGFuZGxlQXR0YWNrKGNvbHVtbiwgcm93LCBlbmVteUJvYXJkLCBwbGF5ZXIpXG4gICAgcmVuZGVyQXR0YWNrcygnZW5lbXknLCBjb2x1bW4sIHJvdywgZW5lbXlCb2FyZClcbn1cblxuY29uc3QgaXNTcGFjZUFyb3VuZEhpdCA9IChjb2x1bW4sIHJvdywgcGxheWVyQm9hcmQpID0+IHtcblxuICAgIGNvbnN0IG5leHRDb2x1bW4gPSBwbGF5ZXJCb2FyZC5nZXRMb2NhdGlvbihjb2x1bW4gKyAxLCByb3cpXG4gICAgY29uc3QgcHJldmlvdXNDb2x1bW4gPSBwbGF5ZXJCb2FyZC5nZXRMb2NhdGlvbihjb2x1bW4gLSAxLCByb3cpXG4gICAgY29uc3QgbmV4dFJvdyA9IHBsYXllckJvYXJkLmdldExvY2F0aW9uKGNvbHVtbiwgcm93ICsgMSlcbiAgICBjb25zdCBwcmV2aW91c1JvdyA9IHBsYXllckJvYXJkLmdldExvY2F0aW9uKGNvbHVtbiwgcm93IC0gMSlcblxuICAgIGNvbnN0IHNwYWNlc0hpdCA9IFtdXG5cbiAgICBpZihuZXh0Q29sdW1uICYmICFuZXh0Q29sdW1uLmhhc0JlZW5IaXQpe1xuICAgICAgICBzcGFjZXNIaXQucHVzaChuZXh0Q29sdW1uKVxuICAgIH1cbiAgICBpZihwcmV2aW91c0NvbHVtbiAmJiAhcHJldmlvdXNDb2x1bW4uaGFzQmVlbkhpdCl7XG4gICAgICAgIHNwYWNlc0hpdC5wdXNoKHByZXZpb3VzQ29sdW1uKVxuICAgIH1cbiAgICBpZihuZXh0Um93ICYmICFuZXh0Um93Lmhhc0JlZW5IaXQpe1xuICAgICAgICBzcGFjZXNIaXQucHVzaChuZXh0Um93KVxuICAgIH1cbiAgICBpZihwcmV2aW91c1JvdyAmJiAhcHJldmlvdXNSb3cuaGFzQmVlbkhpdCl7XG4gICAgICAgIHNwYWNlc0hpdC5wdXNoKHByZXZpb3VzUm93KVxuICAgIH1cblxuICAgIHJldHVybiBzcGFjZXNIaXRcblxufVxuXG5jb25zdCByYW5kb21EaXJlY3Rpb25BdHRhY2sgPSAoY29sdW1uLCByb3csIHBsYXllckJvYXJkKSA9PiB7XG5cbiAgICBjb25zdCBzcGFjZXNIaXQgPSBpc1NwYWNlQXJvdW5kSGl0KGNvbHVtbiwgcm93LCBwbGF5ZXJCb2FyZClcblxuICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc3BhY2VzSGl0Lmxlbmd0aClcblxuICAgIGlmKCFzcGFjZXNIaXRbcmFuZG9tSW5kZXhdKSByZXR1cm4gcmFuZG9tRGlyZWN0aW9uQXR0YWNrKGNvbHVtbiwgcm93ICwgcGxheWVyQm9hcmQpXG5cbiAgICByZXR1cm4gc3BhY2VzSGl0W3JhbmRvbUluZGV4XVxufVxuXG5jb25zdCBpc1JhbmRvbUNvbHVtbkdyZWF0ZXJUaGFuQ3VycmVudENvbHVtbiA9IChjb2x1bW4sIHJhbmRvbUNvbHVtbikgPT4gXG4gICAgcmFuZG9tQ29sdW1uID4gY29sdW1uXG5cbmNvbnN0IGlzUmFuZG9tUm93R3JlYXRlclRoYW5DdXJyZW50Q29sdW1uID0gKHJvdywgcmFuZG9tUm93KSA9PiBcbiAgICByYW5kb21Sb3cgPiByb3dcblxuY29uc3QgbGlzdE9mUmFuZG9tQ29vcmRpbmF0ZXMgPSAoY29sdW1uLCByb3csIHBsYXllckJvYXJkKSA9PiB7XG5cbiAgICAgICAgY29uc3QgbG9jYXRpb25Qcm90b3R5cGUgPSB7XG4gICAgICAgICAgICBsb2NhdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVyQm9hcmQuZ2V0TG9jYXRpb24odGhpcy5jb2x1bW4sIHRoaXMucm93KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG9wID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGxvY2F0aW9uUHJvdG90eXBlKSwge1xuICAgICAgICAgICAgY29sdW1uLFxuICAgICAgICAgICAgcm93OiByb3cgLSAxLFxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBib3R0b20gPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUobG9jYXRpb25Qcm90b3R5cGUpLCB7XG4gICAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICAgICByb3c6IHJvdyArIDEsXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGxvY2F0aW9uUHJvdG90eXBlKSwge1xuICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4gKyAxLFxuICAgICAgICAgICAgcm93LFxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBsZWZ0ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGxvY2F0aW9uUHJvdG90eXBlKSwge1xuICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4gLSAxLFxuICAgICAgICAgICAgcm93LFxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBkaXJlY3Rpb25zID0gW11cblxuICAgICAgICBkaXJlY3Rpb25zLnB1c2godG9wKVxuICAgICAgICBkaXJlY3Rpb25zLnB1c2goYm90dG9tKVxuICAgICAgICBkaXJlY3Rpb25zLnB1c2gocmlnaHQpXG4gICAgICAgIGRpcmVjdGlvbnMucHVzaChsZWZ0KVxuXG4gICAgICAgIHJldHVybiBkaXJlY3Rpb25zXG59XG5cbmNvbnN0IGF0dGFja1BsYXllckNlbGwgPSAocGxheWVyQm9hcmQsIGVuZW15LCBlbGVtZW50Q29sdW1uLCBlbGVtZW50Um93LCBwcmV2TG9jYXRpb24pID0+IHtcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBwbGF5ZXJCb2FyZC5nZXRMb2NhdGlvbihlbGVtZW50Q29sdW1uLCBlbGVtZW50Um93KVxuICAgIGlmKGhhbmRsZUF0dGFjayhlbGVtZW50Q29sdW1uLCBlbGVtZW50Um93LCBwbGF5ZXJCb2FyZCwgZW5lbXkpID09PSBcIllvdSBoaXQgYSBzaGlwIVwiKXtcbiAgICAgICAgXG5cbiAgICAgICAgY29uc3QgcmFuZG9tUG9zaXRpb24gPSByYW5kb21EaXJlY3Rpb25BdHRhY2soZWxlbWVudENvbHVtbiwgZWxlbWVudFJvdywgcGxheWVyQm9hcmQpXG4gICAgICAgIGNvbnN0IHJhbmRvbVBvc2l0aW9uQ29sdW1uID0gcmFuZG9tUG9zaXRpb24uY29sdW1uXG5cbiAgICAgICAgY29uc3QgZGlyZWN0aW9ucyA9IGxpc3RPZlJhbmRvbUNvb3JkaW5hdGVzKGVsZW1lbnRDb2x1bW4sIGVsZW1lbnRSb3csIHBsYXllckJvYXJkKVxuICAgICAgICBjb25zdCBmaWx0ZXJlZERpcmVjdGlvbnMgPSBkaXJlY3Rpb25zLmZpbHRlcigoZWxlbWVudCkgPT4gZWxlbWVudC5jb2x1bW4gIT09IHVuZGVmaW5lZCAmJiBlbGVtZW50LnJvdyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICBjb25zdCByYW5kb21Qb3NpdGlvblJvdyA9IHJhbmRvbVBvc2l0aW9uLnJvd1xuICAgICAgICAgICAgICAgIGlmKGxvY2F0aW9uLmlzU2hpcCAmJiBsb2NhdGlvbi5pc1N1bmsoKSA9PT0gZmFsc2Upe1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGZpbHRlcmVkRGlyZWN0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZWZhdWx0LWNhc2VcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKHJhbmRvbSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFja1BsYXllckNlbGwocGxheWVyQm9hcmQsIGVuZW15LCBmaWx0ZXJlZERpcmVjdGlvbnNbMF0uY29sdW1uLCBmaWx0ZXJlZERpcmVjdGlvbnNbMF0ucm93LCBsb2NhdGlvbilcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2tQbGF5ZXJDZWxsKHBsYXllckJvYXJkLCBlbmVteSwgZmlsdGVyZWREaXJlY3Rpb25zWzFdLmNvbHVtbiwgZmlsdGVyZWREaXJlY3Rpb25zWzFdLnJvdywgbG9jYXRpb24pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNrUGxheWVyQ2VsbChwbGF5ZXJCb2FyZCwgZW5lbXksIGZpbHRlcmVkRGlyZWN0aW9uc1syXS5jb2x1bW4sIGZpbHRlcmVkRGlyZWN0aW9uc1syXS5yb3csIGxvY2F0aW9uKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFja1BsYXllckNlbGwocGxheWVyQm9hcmQsIGVuZW15LCBmaWx0ZXJlZERpcmVjdGlvbnNbM10uY29sdW1uLCBmaWx0ZXJlZERpcmVjdGlvbnNbM10ucm93LCBsb2NhdGlvbilcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXR0YWNrUGxheWVyQ2VsbChwbGF5ZXJCb2FyZCwgZW5lbXksIHJhbmRvbVBvc2l0aW9uQ29sdW1uLCByYW5kb21Qb3NpdGlvblJvdywgcHJldkxvY2F0aW9uKVxuICAgICAgICB9LCA3MDApXG4gICAgfVxuICAgIGVsc2UgaWYobG9jYXRpb24mJiBsb2NhdGlvbi5pc1NoaXAgPT09IGZhbHNlICYmIHByZXZMb2NhdGlvbiAmJiBwcmV2TG9jYXRpb24uaXNTaGlwID09PSB0cnVlKXtcblxuICAgICAgICBsZXQgcHJldkxvY2F0aW9uUm93O1xuICAgICAgICBsZXQgcHJldkxvY2F0aW9uQ29sdW1uO1xuICAgICAgICBjb25zdCBzaGlwTGVuZ3RoID0gcHJldkxvY2F0aW9uLmdldExlbmd0aCgpXG4gICAgICAgIGlmKHByZXZMb2NhdGlvbi5jb2x1bW4gPiBlbGVtZW50Q29sdW1uICl7XG4gICAgICAgIHByZXZMb2NhdGlvbkNvbHVtbiA9IHByZXZMb2NhdGlvbi5jb2x1bW4gLSAocHJldkxvY2F0aW9uLmNvbHVtbiAtIGVsZW1lbnRDb2x1bW4pXG4gICAgICAgIH1cbiAgICAgICAgaWYocHJldkxvY2F0aW9uLmNvbHVtbiA8IGVsZW1lbnRDb2x1bW4pe1xuICAgICAgICBwcmV2TG9jYXRpb25Db2x1bW4gPSBwcmV2TG9jYXRpb24uY29sdW1uICsgKGVsZW1lbnRDb2x1bW4gLSBwcmV2TG9jYXRpb24uY29sdW1uKVxuICAgICAgICB9XG4gICAgICAgIGlmKHByZXZMb2NhdGlvbi5yb3cgPiBlbGVtZW50Um93KXtcbiAgICAgICAgcHJldkxvY2F0aW9uUm93ID0gcHJldkxvY2F0aW9uLnJvdyAtICAocHJldkxvY2F0aW9uLnJvdyAtIGVsZW1lbnRSb3cpXG5cbiAgICAgICAgfVxuICAgICAgICBpZihwcmV2TG9jYXRpb24ucm93IDwgZWxlbWVudFJvdyl7XG4gICAgICAgIHByZXZMb2NhdGlvblJvdyA9IHByZXZMb2NhdGlvbi5yb3cgKyAoZWxlbWVudFJvdyAtIHByZXZMb2NhdGlvbi5yb3cpXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICAgICAgICBpZihwcmV2TG9jYXRpb24uaXNTdW5rKCkgPT09IGZhbHNlKXtcblxuICAgICAgICAgICAgYXR0YWNrUGxheWVyQ2VsbChwbGF5ZXJCb2FyZCwgZW5lbXksIHByZXZMb2NhdGlvbkNvbHVtbiwgcHJldkxvY2F0aW9uUm93LCBwcmV2TG9jYXRpb24pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sNzAwKVxuICAgIH1cblxuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG5cbiAgICByZW5kZXJBdHRhY2tzKCdwbGF5ZXInLCBlbGVtZW50Q29sdW1uLCBlbGVtZW50Um93LCBwbGF5ZXJCb2FyZCwgcHJldkxvY2F0aW9uKVxuICAgIH0sIDcwMClcblxufVxuLy8gaHR0cHM6Ly9qc21hbmlmZXN0LmNvbS90aGUtcHVibGlzaC1zdWJzY3JpYmUtcGF0dGVybi1pbi1qYXZhc2NyaXB0L1xuXG5leHBvcnQgY29uc3QgcHViU3ViID0gKCkgPT4ge1xuICAgIGNvbnN0IHN1YnNjcmliZXJzID0ge31cblxuICAgIGZ1bmN0aW9uIHB1Ymxpc2goZXZlbnROYW1lLCBkYXRhKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdWJzY3JpYmVyc1tldmVudE5hbWVdKSkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlcnNbZXZlbnROYW1lXS5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soZGF0YSlcbiAgICAgICAgfSlcbiAgICB9XG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHN1YnNjcmliZVtldmVudE5hbWVdKSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlcnNbZXZlbnROYW1lXSA9IFtdXG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlcnNbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKVxuICAgICAgICBjb25zdCBpbmRleCA9IHN1YnNjcmliZXJzW2V2ZW50TmFtZV0ubGVuZ3RoIC0gMVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyc1tldmVudE5hbWVdLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBwdWJsaXNoLFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVuZGVyUGxheWVyU2hpcHMgPSAoeyBnZXRMb2NhdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgcGxheWVyQm9hcmRBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnBsYXllci1ib2FyZCcpXG5cbiAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCAxMDsgY29sdW1uICs9IDEpIHtcbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgMTA7IHJvdyArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjZWxsID0gcGxheWVyQm9hcmRBcmVhLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgYC5jZWxsOm50aC1jaGlsZCgke3JvdyAqIDEwICsgY29sdW1uICsgMX0pYFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ2NvbHVtbicsIGNvbHVtbilcbiAgICAgICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdyb3cnLCByb3cpXG4gICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9IGdldExvY2F0aW9uKGNvbHVtbiwgcm93KVxuICAgICAgICAgICAgaWYgKGxvY2F0aW9uLmlzU2hpcCkge1xuICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgnc2hpcCcpXG4gICAgICAgICAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ3NoaXAtbmFtZScsIGxvY2F0aW9uLmdldE5hbWUoKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgY2hlY2tJZkdhbWVPdmVyID0gKHBsYXllckJvYXJkLCBlbmVteUJvYXJkKSA9PiB7XG4gICAgaWYgKHBsYXllckJvYXJkLmNoZWNrSWZBbGxTaGlwc0hhdmVTdW5rKCkpIHtcbiAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKVxuICAgICAgICBjb25zdCBtb2RhbFdpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1jb250ZW50ID4gcCcpXG4gICAgICAgIGNvbnN0IHBsYXlBZ2FpbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAnLm1vZGFsLWNvbnRlbnQgPiBidXR0b24nXG4gICAgICAgIClcblxuICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuICAgICAgICBwbGF5QWdhaW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgICB9KVxuXG4gICAgICAgIG1vZGFsV2lubmVyLnRleHRDb250ZW50ID0gJ1lvdSBsb3NlISdcbiAgICB9XG4gICAgaWYgKGVuZW15Qm9hcmQuY2hlY2tJZkFsbFNoaXBzSGF2ZVN1bmsoKSkge1xuICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpXG4gICAgICAgIGNvbnN0IG1vZGFsV2lubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWNvbnRlbnQgPiBwJylcbiAgICAgICAgY29uc3QgcGxheUFnYWluQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICcubW9kYWwtY29udGVudCA+IGJ1dHRvbidcbiAgICAgICAgKVxuXG4gICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgICAgIG1vZGFsV2lubmVyLnRleHRDb250ZW50ID0gJ1lvdSB3aW4hJ1xuICAgICAgICBwbGF5QWdhaW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGFkZExpc3RlbmVyc1RvRW5lbXlCb2FyZCA9IChcbiAgICBwbGF5ZXJCb2FyZCxcbiAgICBlbmVteUJvYXJkLFxuICAgIHBsYXllcixcbiAgICBlbmVteSxcbiAgICBwc1xuKSA9PiB7XG4gICAgY29uc3QgZW5lbXlCb2FyZEFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYuZW5lbXktYm9hcmQnKVxuXG4gICAgZm9yIChsZXQgY29sdW1uID0gMDsgY29sdW1uIDwgMTA7IGNvbHVtbiArPSAxKSB7XG4gICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IDEwOyByb3cgKz0gMSkge1xuICAgICAgICAgICAgLy8gQ3JlZGl0aW5nIGZvcm11bGEgdG8gY2FsY3VsYXRlIG50aC1jaGlsZCB1c2luZyBuZXN0ZWQgbG9vcDogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODg3MjY2Mi9tYXRoLXRvLWRldGVybWluZS1pdGVtLWluZGV4LWJhc2VkLW9uLWNvbC1yb3ctc2VsZWN0aW9uLWluLWdyaWRcbiAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBlbmVteUJvYXJkQXJlYS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgIGAuY2VsbDpudGgtY2hpbGQoJHtyb3cgKiAxMCArIGNvbHVtbiArIDF9KWBcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdjb2x1bW4nLCBjb2x1bW4pXG4gICAgICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZSgncm93Jywgcm93KVxuXG4gICAgICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgJ2NsaWNrJyxcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBzLnB1Ymxpc2goJ2NsaWNrJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllckJvYXJkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlCb2FyZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15LFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyBvbmNlOiB0cnVlIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgY2xlYXJCb2FyZERPTSA9ICgpID0+IHtcbiAgICBjb25zdCBjZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGF5ZXItYm9hcmQgPiAuY2VsbCcpXG5cbiAgICBjZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgICBjZWxsLmNsYXNzTGlzdC5yZW1vdmUoJ3NoaXAnKVxuICAgICAgICBjZWxsLmNsYXNzTGlzdC5yZW1vdmUoJ2hpdCcpXG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZSgnbWlzcycpXG4gICAgfSlcblxuXG5cbn1cblxuZXhwb3J0IGNvbnN0IHJhbmRvbWl6ZUxpc3RlbmVyID0gKGdhbWVCb2FyZCkgPT4ge1xuXG4gICAgZ2FtZUJvYXJkLmNsZWFyQm9hcmQoKVxuICAgIGNsZWFyQm9hcmRET00oKVxuXG4gICAgY29uc3QgcmFuZG9tUG9zc2liaWxpdHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KVxuICAgIHN3aXRjaChyYW5kb21Qb3NzaWJpbGl0eSl7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgZ2FtZUJvYXJkLnBsYWNlU2hpcCg5LCAxLCAndmVydGljYWwnLCBjcmVhdGVTaGlwKDUpKVxuICAgICAgICBnYW1lQm9hcmQucGxhY2VTaGlwKDAsIDMsICdob3Jpem9udGFsJywgY3JlYXRlU2hpcCgzKSlcbiAgICAgICAgZ2FtZUJvYXJkLnBsYWNlU2hpcCgzLCA2LCAnaG9yaXpvbnRhbCcsIGNyZWF0ZVNoaXAoMikpXG4gICAgICAgIGdhbWVCb2FyZC5wbGFjZVNoaXAoNiwgNSwgJ2hvcml6b250YWwnLCBjcmVhdGVTaGlwKDMpKVxuICAgICAgICBnYW1lQm9hcmQucGxhY2VTaGlwKDMsIDksICdob3Jpem9udGFsJywgY3JlYXRlU2hpcCg0KSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgIGdhbWVCb2FyZC5wbGFjZVNoaXAoMCwgMiwgJ2hvcml6b250YWwnLCBjcmVhdGVTaGlwKDUpKVxuICAgICAgICBnYW1lQm9hcmQucGxhY2VTaGlwKDQsIDUsICdob3Jpem9udGFsJywgY3JlYXRlU2hpcCgzKSlcbiAgICAgICAgZ2FtZUJvYXJkLnBsYWNlU2hpcCg4LCA3LCAnaG9yaXpvbnRhbCcsIGNyZWF0ZVNoaXAoMikpXG4gICAgICAgIGdhbWVCb2FyZC5wbGFjZVNoaXAoNSwgOSwgJ2hvcml6b250YWwnLCBjcmVhdGVTaGlwKDMpKVxuICAgICAgICBnYW1lQm9hcmQucGxhY2VTaGlwKDYsIDMsICdob3Jpem9udGFsJywgY3JlYXRlU2hpcCg0KSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgIGdhbWVCb2FyZC5wbGFjZVNoaXAoNSwgMSwgJ2hvcml6b250YWwnLCBjcmVhdGVTaGlwKDUpKVxuICAgICAgICBnYW1lQm9hcmQucGxhY2VTaGlwKDMsIDMsICd2ZXJ0aWNhbCcsIGNyZWF0ZVNoaXAoMykpXG4gICAgICAgIGdhbWVCb2FyZC5wbGFjZVNoaXAoMCwgMCwgJ3ZlcnRpY2FsJywgY3JlYXRlU2hpcCgyKSlcbiAgICAgICAgZ2FtZUJvYXJkLnBsYWNlU2hpcCg2LCA1LCAnaG9yaXpvbnRhbCcsIGNyZWF0ZVNoaXAoMykpXG4gICAgICAgIGdhbWVCb2FyZC5wbGFjZVNoaXAoNSwgOSwgJ2hvcml6b250YWwnLCBjcmVhdGVTaGlwKDQpKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBnYW1lQm9hcmQucGxhY2VTaGlwKDAsIDAsICdob3Jpem9udGFsJywgY3JlYXRlU2hpcCg1KSlcbiAgICAgICAgICAgIGdhbWVCb2FyZC5wbGFjZVNoaXAoMywgNCwgJ2hvcml6b250YWwnLCBjcmVhdGVTaGlwKDMpKVxuICAgICAgICAgICAgZ2FtZUJvYXJkLnBsYWNlU2hpcCg2LCA3LCAnaG9yaXpvbnRhbCcsIGNyZWF0ZVNoaXAoMikpXG4gICAgICAgICAgICBnYW1lQm9hcmQucGxhY2VTaGlwKDksIDEsICd2ZXJ0aWNhbCcsIGNyZWF0ZVNoaXAoMykpXG4gICAgICAgICAgICBnYW1lQm9hcmQucGxhY2VTaGlwKDUsIDksICdob3Jpem9udGFsJywgY3JlYXRlU2hpcCg0KSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJlbmRlclBsYXllclNoaXBzKGdhbWVCb2FyZClcblxufVxuXG5leHBvcnQgY29uc3QgYXR0YWNrID0gKHtcbiAgICBjZWxsLFxuICAgIGNvbHVtbixcbiAgICByb3csXG4gICAgcGxheWVyQm9hcmQsXG4gICAgZW5lbXlCb2FyZCxcbiAgICBwbGF5ZXIsXG4gICAgZW5lbXksXG59KSA9PiB7XG4gICAgLy8gaHVtYW4gcGxheWVyIGF0dGFja2luZyBjb21wdXRlclxuICAgIGF0dGFja0VuZW15Q2VsbChjb2x1bW4sIHJvdywgZW5lbXlCb2FyZCwgcGxheWVyKVxuICAgIC8vIGNvbXB1dGVyIGF0dGFja2luZyBodW1hblxuICAgIGNvbnN0IHsgZWxlbWVudENvbHVtbiwgZWxlbWVudFJvdyB9ID0gcGxheWVyQm9hcmQubWFrZVJhbmRvbUNvb3JkaW5hdGVzKClcbiAgICBhdHRhY2tQbGF5ZXJDZWxsKHBsYXllckJvYXJkLCBlbmVteSwgZWxlbWVudENvbHVtbiwgZWxlbWVudFJvdylcblxuICAgIGNoZWNrSWZHYW1lT3ZlcihwbGF5ZXJCb2FyZCwgZW5lbXlCb2FyZClcbn1cbiIsImltcG9ydCB7IGFkZExpc3RlbmVyc1RvRW5lbXlCb2FyZCwgcmVuZGVyUGxheWVyU2hpcHMscHViU3ViLCByYW5kb21pemVMaXN0ZW5lciwgYXR0YWNrfSBmcm9tICcuL2RvbSdcblxuaW1wb3J0IGNyZWF0ZUdhbWVCb2FyZCBmcm9tICcuL2dhbWVib2FyZC9nYW1lYm9hcmQnXG5pbXBvcnQgY3JlYXRlU2hpcCBmcm9tICcuL3NoaXAvc2hpcCdcbmltcG9ydCBjcmVhdGVQbGF5ZXIgZnJvbSAnLi9wbGF5ZXIvcGxheWVyJ1xuXG5jb25zdCBwbGF5ZXJCb2FyZCA9IGNyZWF0ZUdhbWVCb2FyZCgpXG5jb25zdCBlbmVteUJvYXJkID0gY3JlYXRlR2FtZUJvYXJkKClcbmNvbnN0IHBsYXllciA9IGNyZWF0ZVBsYXllcigpXG5jb25zdCBjb21wdXRlciA9IGNyZWF0ZVBsYXllcigpXG5cbmNvbnN0IHJhbmRvbWl6ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5yYW5kb21pemUnKVxuXG5yYW5kb21pemVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcmFuZG9taXplTGlzdGVuZXIocGxheWVyQm9hcmQpXG59KVxuXG5yYW5kb21pemVMaXN0ZW5lcihwbGF5ZXJCb2FyZClcblxuZW5lbXlCb2FyZC5wbGFjZVNoaXAoMCwgMCwgJ2hvcml6b250YWwnLCBjcmVhdGVTaGlwKDUpKVxuZW5lbXlCb2FyZC5wbGFjZVNoaXAoMywgNCwgJ2hvcml6b250YWwnLCBjcmVhdGVTaGlwKDMpKVxuZW5lbXlCb2FyZC5wbGFjZVNoaXAoNiwgNywgJ2hvcml6b250YWwnLCBjcmVhdGVTaGlwKDIpKVxuZW5lbXlCb2FyZC5wbGFjZVNoaXAoOSwgMSwgJ3ZlcnRpY2FsJywgY3JlYXRlU2hpcCgzKSlcbmVuZW15Qm9hcmQucGxhY2VTaGlwKDUsIDksICdob3Jpem9udGFsJywgY3JlYXRlU2hpcCg0KSlcblxuY29uc3QgcHMgPSBwdWJTdWIoKVxuXG5hZGRMaXN0ZW5lcnNUb0VuZW15Qm9hcmQocGxheWVyQm9hcmQsIGVuZW15Qm9hcmQsIHBsYXllciwgY29tcHV0ZXIsIHBzKVxuXG5wcy5zdWJzY3JpYmUoJ2NsaWNrJywgYXR0YWNrKVxuXG5yZW5kZXJQbGF5ZXJTaGlwcyhwbGF5ZXJCb2FyZCkiXSwibmFtZXMiOlsiY3JlYXRlU2hpcCIsIm1vZHVsZSIsImV4cG9ydHMiLCJlbXB0eUNlbGwiLCJoYXNCZWVuSGl0IiwiaXNTaGlwIiwib2ZmTGltaXRzIiwiaW5pdGlhbGl6ZUJvYXJkIiwiZ2FtZUJvYXJkIiwiQXJyYXkiLCJmaWxsIiwibWFwIiwiY29sdW1uIiwicm93Iiwic2hpcHMiLCJnZXRMb2NhdGlvbiIsInNldExvY2F0aW9uIiwic2hpcCIsIk9iamVjdCIsImFzc2lnbiIsImNyZWF0ZU9mZkxpbWl0TG9jYXRpb24iLCJ1bmRlZmluZWQiLCJsb2NhdGlvbiIsImFkZE9mZkxpbWl0QXJlYUZvclNoaXBzIiwiY2hlY2tJZkxvY2F0aW9uSXNBU2hpcE9yT2ZmTGltaXRzIiwiZGlyZWN0aW9uIiwic2hpcExlbmd0aCIsImkiLCJwbGFjZVNoaXAiLCJnZXRMZW5ndGgiLCJsZW5ndGgiLCJjaGVja0lmUm93Q29vcmRpbmF0ZUlzVmFsaWQiLCJwb3NpdGlvbiIsImFkZE9mZkxpbWl0QXJlYUZvclZlcnRpY2FsbHlQb3NpdGlvbmVkU2hpcCIsImNoZWNrSWZDb2x1bW5Db29yZGluYXRlSXNWYWxpZCIsImFkZE9mZkxpbWl0QXJlYUZvckhvcml6b250YWxseVBvc2l0aW9uZWRTaGlwIiwibWFrZVJhbmRvbUNvb3JkaW5hdGVzIiwicmFuZG9tRGlyZWN0aW9uIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicmFuZG9tTG9jYXRpb24iLCJmbGF0dGVuZWRHYW1lQm9hcmQiLCJmbGF0IiwiZm9yRWFjaCIsImVsZW1lbnQiLCJhdmFpbGFiaWxpdHkiLCJhdmFpbGFibGVTcGFjZXMiLCJlbGVtZW50Q29sdW1uIiwiZWxlbWVudFJvdyIsImNsZWFyQm9hcmQiLCJjaGVja0lmT2ZmTGltaXRab25lV2FzQ29ycmVjdGx5SW1wbGVtZW50ZWQiLCJmaWx0ZXIiLCJyZWNlaXZlQXR0YWNrIiwiY2hlY2tJZkFsbFNoaXBzSGF2ZVN1bmsiLCJoYXZlQWxsU2hpcHNTdW5rIiwiaiIsImlzU3VuayIsInJhbmRvbWx5UGxhY2VTaGlwcyIsInNoaXBEZXRhaWxzIiwicmFuZG9tQ29sdW1uIiwicmFuZG9tUm93IiwicHVzaCIsIm5hbWUiLCJnZXROYW1lIiwiYXR0YWNrIiwiZ2V0U3RhdHVzIiwiaW5jbHVkZXMiLCJoaXQiLCJzdGF0dXMiLCJldmVyeSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicmVuZGVyQXR0YWNrcyIsInBsYXllciIsImVuZW15Qm9hcmQiLCJjZWxsIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwiYWRkIiwiaGFuZGxlQXR0YWNrIiwicmFuZG9tRGlyZWN0aW9uQXR0YWNrIiwicGxheWVyQm9hcmQiLCJzcGFjZXNIaXQiLCJuZXh0Q29sdW1uIiwicHJldmlvdXNDb2x1bW4iLCJuZXh0Um93IiwicHJldmlvdXNSb3ciLCJpc1NwYWNlQXJvdW5kSGl0IiwicmFuZG9tSW5kZXgiLCJsaXN0T2ZSYW5kb21Db29yZGluYXRlcyIsImxvY2F0aW9uUHJvdG90eXBlIiwidGhpcyIsInRvcCIsImNyZWF0ZSIsImJvdHRvbSIsInJpZ2h0IiwibGVmdCIsImRpcmVjdGlvbnMiLCJhdHRhY2tQbGF5ZXJDZWxsIiwiZW5lbXkiLCJwcmV2TG9jYXRpb24iLCJyYW5kb21Qb3NpdGlvbiIsInJhbmRvbVBvc2l0aW9uQ29sdW1uIiwiZmlsdGVyZWREaXJlY3Rpb25zIiwicmFuZG9tUG9zaXRpb25Sb3ciLCJzZXRUaW1lb3V0IiwicHJldkxvY2F0aW9uUm93IiwicHJldkxvY2F0aW9uQ29sdW1uIiwicmVuZGVyUGxheWVyU2hpcHMiLCJwbGF5ZXJCb2FyZEFyZWEiLCJzZXRBdHRyaWJ1dGUiLCJyYW5kb21pemVMaXN0ZW5lciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmUiLCJjb21wdXRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcyIsInN1YnNjcmliZXJzIiwicHVibGlzaCIsImV2ZW50TmFtZSIsImRhdGEiLCJpc0FycmF5IiwiY2FsbGJhY2siLCJzdWJzY3JpYmUiLCJpbmRleCIsInVuc3Vic2NyaWJlIiwic3BsaWNlIiwicHViU3ViIiwiZW5lbXlCb2FyZEFyZWEiLCJvbmNlIiwiYWRkTGlzdGVuZXJzVG9FbmVteUJvYXJkIiwiYXR0YWNrRW5lbXlDZWxsIiwibW9kYWwiLCJtb2RhbFdpbm5lciIsInBsYXlBZ2FpbkJ1dHRvbiIsInN0eWxlIiwiZGlzcGxheSIsInJlbG9hZCIsInRleHRDb250ZW50IiwiY2hlY2tJZkdhbWVPdmVyIl0sInNvdXJjZVJvb3QiOiIifQ==